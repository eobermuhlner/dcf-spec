{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://dcf-spec.dev/schema/v1.0.0/tokens.schema.json",
  "title": "DCF Tokens Schema",
  "description": "Schema for Design Concept Format design tokens",
  "type": "object",
  "properties": {
    "dcf_version": {
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$",
      "description": "Semantic version of the DCF specification"
    },
    "kind": {
      "type": "string",
      "const": "tokens",
      "description": "File type discriminator"
    },
    "profile": {
      "type": "string",
      "enum": ["lite", "standard", "strict"],
      "default": "standard",
      "description": "Validation profile level"
    },
    "color": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/token_value"
      }
    },
    "space": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/token_value"
      }
    },
    "radius": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/token_value"
      }
    },
    "font": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/font_token"
      }
    },
    "duration": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/token_value"
      }
    },
    "easing": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/token_value"
      }
    },
    "motion": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/token_value"
      }
    },
    "breakpoint": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/token_value"
      }
    },
    "icon": {
      "$ref": "#/definitions/icon_config"
    },
    "icons": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/icon_token"
      }
    },
    "asset": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/asset_token"
      }
    }
  },
  "required": ["dcf_version", "kind"],
  "definitions": {
    "token_value": {
      "type": "object",
      "properties": {
        "value": {
          "type": "string",
          "description": "The token value (concrete or theme reference)"
        },
        "description": {
          "type": "string",
          "description": "Optional description of the token"
        }
      },
      "required": ["value"],
      "additionalProperties": false
    },
    "font_token": {
      "type": "object",
      "properties": {
        "family": { "type": "string", "description": "Font family name" },
        "size": { "type": "string", "description": "Font size with units (e.g., '16px', '1rem')" },
        "lineHeight": { "type": ["string", "number"], "description": "Line height (unitless or with units)" },
        "weight": { "type": ["string", "number"], "description": "Font weight (e.g., 400, 'bold')" },
        "letterSpacing": { "type": "string", "description": "Letter spacing with units" }
      },
      "minProperties": 1,
      "additionalProperties": false
    },
    "icon_config": {
      "type": "object",
      "properties": {
        "set": {
          "type": "string",
          "description": "Icon set name (e.g., lucide, heroicons)"
        },
        "prefix": {
          "type": "string",
          "description": "Prefix for icon references"
        },
        "fallback": {
          "type": "string",
          "description": "Fallback icon reference"
        }
      },
      "additionalProperties": false
    },
    "icon_token": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "value": { "type": "string" }
          },
          "required": ["value"],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "ltr": { "type": "string" },
            "rtl": { "type": "string" }
          },
          "required": ["ltr", "rtl"],
          "additionalProperties": false
        }
      ]
    },
    "asset_token": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "value": { "type": "string" }
          },
          "required": ["value"],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "light": { "type": "string" },
            "dark": { "type": "string" }
          },
          "required": ["light", "dark"],
          "additionalProperties": false
        }
      ]
    }
  }
}
